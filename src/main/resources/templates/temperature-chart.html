<html>
<head>
  <meta charset="ISO-8859-1">
  <title>Google Charts Example - Spring Boot</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>
<body>


<!--<div id="curve_chart" style="width: 900px; height: 500px"></div>-->


<div id="chart_wrapper">
  <div id="curve_chart" style="width: 5000px; height: 700px"></div>
</div>



<script th:inline="javascript">

  var real_data_s1 = /*[[${chartData_s1}]]*/'noValue';
  var real_data_s2 = /*[[${chartData_s2}]]*/'noValue';
  var real_data_s3 = /*[[${chartData_s3}]]*/'noValue';



  var device1 = /*[[${device1}]]*/'noValue';
  var device2 = /*[[${device2}]]*/'noValue';
  var device3 = /*[[${device3}]]*/'noValue';



  $(document).ready(function() {
  google.charts.load('current', {'packages':['corechart']});
  google.charts.setOnLoadCallback(drawChart);
});


function drawChart() {


  var currentLineWidth=[1,1,1]


  function selectHandler() {
    var selectedItem = chart.getSelection()[0];
    if (selectedItem) {
      dispositivo=selectedItem.column-1
      if (currentLineWidth[dispositivo]>0.5){
        currentLineWidth[dispositivo]=0;
      }
      else{
        currentLineWidth[dispositivo]=1;

      }
      var options = {
        curveType: 'function',
        legend: { position: 'right' },
        explorer: {
          axis: 'both',
          maxZoomOut:2,
          keepInBounds: false
        },
        series: {
          0: {lineWidth: currentLineWidth[0] },
          1: { lineWidth: currentLineWidth[1]},
          2: { lineWidth: currentLineWidth[2]}        }};

      chart.draw(data, options);

    }
  }




  var data = new google.visualization.DataTable();

  data.addColumn('date', 'giorno');
  data.addColumn('number', 'temperatura '+device1);
  data.addColumn('number', 'temperatura '+device2);
  data.addColumn('number', 'temperatura '+device3);
  Object.keys(real_data_s3).forEach(function(key) {
  data.addRow([ new Date(key), real_data_s1[key],real_data_s2[key],real_data_s3[key] ]);
});

  var options = {
  curveType: 'function',
    legend: { position: 'right' },
    explorer: {
      axis: 'horizontal',
      maxZoomOut:2,
      keepInBounds: false
    }
};




  var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));


  chart.draw(data, options);
  google.visualization.events.addListener(chart, 'select', selectHandler);



}
  </script>
</body>
</html>

<style>
  #chart_wrapperx {
    overflow-x: scroll;
    overflow-y: hidden;
    width: 1900px;
  }

</style>

